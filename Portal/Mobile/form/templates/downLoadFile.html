
<ion-view title="{{names.AppendixPreview}}" class="bpm-filedownload">
    <ion-nav-bar class="bar">
        <ion-nav-buttons side="left">
            <button class="button button-icon button-clear ion-ios-arrow-left"
                    ng-click="$ionicGoBack()">
                {{names.Back}}
            </button>
        </ion-nav-buttons>
    </ion-nav-bar>
    <ion-content class="has-header" scroll="true" overflow-scroll="true" ng-class="{'imgclass':isImg,'txtclass':isTxt,'mp3class':isMp3}">
        <ion-scroll direction="xy" zooming="true" min-zoom="0.5" ng-if="isImg">
            <img ng-src="{{url}}" style="user-select: none; max-width: 100%; overflow: scroll;" />
        </ion-scroll>

        <ion-item style="overflow-x:auto;" ng-if="isMp3">
            <audio controls>
                <source ng-src="{{url}}">
            </audio>
        </ion-item>

        <ion-scroll zooming="true" min-zoom="0.5" max-zoom="2" direction="xy" scrollbar-x="false" scrollbar-y="false" has-bouncing="true" overflow-scroll="false" style="width: 100%; height:100%;" ng-if="isTxt">
            <div class="scroll-wrapper" style="height:100%">
                <iframe srcdoc="{{xmldoc}}" style="width:100%;height:100%;" ng-if="isXML"></iframe>
                <iframe ng-src="{{url}}" style="width:100%;height:100%;" ng-if="!isXML"></iframe>
            </div>
        </ion-scroll>

    </ion-content>
    <style>
        .bpm-filedownload .txtclass div.scroll {
            height: 100%;
        }

        .bpm-filedownload .imgclass div.scroll {
            height: 100%;
        }

            .bpm-filedownload .imgclass div.scroll ion-scroll {
                height: 100%;
            }
    </style>
</ion-view>
